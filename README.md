# 小米便签导出助手 Chrome 插件

一个专门用于将小米笔记导出为 Markdown 格式文件的 Chrome 浏览器插件。

## 功能特点

- 🚀 **一键导出**: 点击插件图标即可开始导出
- 📁 **智能分类**: 按照笔记所属文件夹创建目录结构
- 📄 **Markdown格式**: 自动转换为标准 Markdown 格式
- 🖼️ **图片处理**: 自动下载并嵌入图片文件
- 📅 **智能命名**: 根据创建时间和标题自动生成文件名
- 📊 **进度显示**: 实时显示导出进度和统计信息

## 文件结构

```
note-exporter-extension/
├── manifest.json          # 插件配置文件
├── popup.html             # 插件弹窗界面
├── popup.js              # 弹窗逻辑控制
├── content.js            # 内容脚本
├── exporter.js           # 核心导出逻辑
├── background.js         # 后台脚本
├── icons/                # 插件图标
│   ├── icon16.png
│   ├── icon48.png
│   └── icon128.png
└── README.md             # 说明文档
```

## 安装方法

### 方法一：开发者模式安装

1. 打开 Chrome 浏览器
2. 访问 `chrome://extensions/`
3. 开启右上角的"开发者模式"
4. 点击"加载已解压的扩展程序"
5. 选择解压后的插件文件夹

### 方法二：打包安装

1. 在扩展程序页面点击"打包扩展程序"
2. 选择插件文件夹，生成 `.crx` 文件
3. 将 `.crx` 文件拖拽到扩展程序页面安装

## 使用说明

1. **打开笔记页面**: 在包含笔记数据的网页上使用
2. **点击插件图标**: 在浏览器工具栏点击插件图标
3. **开始导出**: 点击"开始导出"按钮
4. **等待完成**: 插件会自动下载所有文件
5. **查看结果**: 导出的文件会保存到浏览器下载目录

## 文件命名规则

- **有标题的笔记**: `日期_标题.md`
- **无标题且时间不重复**: `日期_内容前10字.md`
- **无标题且时间重复**: `日期_序号_内容前10字.md`
- **图片文件**: `笔记文件名_图片ID.png`

日期格式：YYYYMMDD（如：20240315）

## 导出内容

### Markdown 文件包含
- 笔记标题（如果有）
- 笔记正文内容
- 图片引用链接
- 创建时间和修改时间

### 图片文件
- PNG 格式
- 保持原始分辨率
- 文件名包含关联笔记信息

## 兼容性

- Chrome 88+ 
- 支持 Manifest V3
- 需要网络权限获取图片

## 权限说明

- `activeTab`: 访问当前标签页内容
- `scripting`: 注入导出脚本
- `host_permissions`: 访问网页内容和图片资源

## 故障排除

### 常见问题

1. **导出失败**
   - 检查网络连接
   - 确认页面已完全加载
   - 查看浏览器开发者工具的错误信息

2. **图片无法下载**
   - 检查图片链接是否有效
   - 确认图片支持跨域访问
   - 查看控制台的错误信息

3. **插件无法使用**
   - 确认插件已正确安装
   - 检查是否在支持的页面上使用